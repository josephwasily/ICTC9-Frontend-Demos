<div class="container">
    <h2>Create Student</h2>
    <form [formGroup]="form" (ngSubmit)="submit()">
        {{form.value | json}}
        <mat-form-field>
            <mat-label>Enter first Name</mat-label>
            <input  matInput name="firstName"  formControlName="firstName">

            <mat-error>first name is required</mat-error>
           
        </mat-form-field>
     
        <mat-form-field>
            <mat-label>Enter last Name</mat-label>
            <input  matInput name="lastName"  formControlName="lastName">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Enter age</mat-label>
            <input  matInput type="number"  name="age" formControlName="age">
        </mat-form-field>

        <mat-form-field >
            <mat-label>Personal Website</mat-label>
            <input matInput formControlName="url"> 
            <mat-error *ngIf="url?.hasError('required')">Url is required</mat-error>
            <mat-error *ngIf="url?.hasError('insecureUrl')">Website must start with https</mat-error>
          </mat-form-field> 



 
          <br>

          <br>
            <h2>Languages</h2>
         
            <ng-container formArrayName="languages">
                <ng-container *ngFor="let language of languages.controls; let i= index";>
                    <div class="language">
                        <mat-form-field [formGroupName]="i">
                                <mat-label>Test</mat-label>
                                <input matInput formControlName="title" placeholder="enter language">
                        </mat-form-field>
                        <button mat-icon-button color="warning" (click)="deleteLanguage(i)">
                            <mat-icon>delete</mat-icon>
                            
                        </button>

                    </div>
                       
                </ng-container>
          </ng-container>
          <button mat-raised-button color="primary" (click)="addLanguage()">

            <mat-icon>add</mat-icon>
        </button>
        <br>
        <br>
          <button  mat-raised-button color="primary">Submit</button>

          <!-- <button mat-raised-button color="primary" (click)="submit()">Test</button> -->
    </form> 
    <!-- {{this.students | json}} -->
</div>
